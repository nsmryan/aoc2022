puts [concat "Part 1:" [::tcl::mathop::+ {*}[lmap {theirs mine} [string trim [read [open input.txt r]]] { expr [dict get [list X 0 Y 1 Z 2] $mine] + 1 + 3 * (([dict get [list X 0 Y 1 Z 2] $mine] + 2 * [dict get [list A 0 B 1 C 2] $theirs] + 1) % 3) }]]]
puts [concat "Part 2:" [::tcl::mathop::+ {*}[lmap {theirs mine} [string trim [read [open input.txt r]]] { expr (([dict get [list A 0 B 1 C 2] $theirs] + [dict get [list X 0 Y 1 Z 2] $mine] + 2) % 3) + 1 + 3 * [dict get [list X 0 Y 1 Z 2] $mine] }]]]
